{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.

    @package   block_appreciation
    @copyright 2020 Michael Vangelovski <michael.vangelovski@hotmail.com>
    @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
}}
{{!
    @template block_appreciation/post

    Renders a single post.
}}

<div data-id="{{id}}" class="post{{^isapproved}} unapproved{{/isapproved}}">
    <div class="header">
        <div class="creator">
            <div class="userphoto"><a href="{{creatorurl}}" title="{{creatorfullname}} profile"><img src="{{creatorphoto}}" alt="{{creatorfullname}}" title="{{creatorfullname}}" /></a></div>
            <div class="fullname">{{creatorfullname}}</div>
        </div>
        <div class="recipient confettis-on" data-confettis>
            <div class="userphoto"><a href="{{recipienturl}}" title="{{recipientfullname}} profile"><img src="{{recipientphoto}}" alt="{{recipientfullname}}" title="{{recipientfullname}}" /></a></div>
            <div class="fullname">{{recipientfullname}}</div>
        </div>
        <div class="meta">
            <div class="time">{{readabletime}}</div>
            {{^filter.block}}
                {{#isapprover}}
                    {{^isapproved}}<span class="action action-approve"><a href="#">Approve</a></span>{{/isapproved}}
                {{/isapprover}}
                {{#iscreator}}
                    <span class="action action-delete"><a href="#">Delete</a></span>
                {{/iscreator}}
            {{/filter.block}}
        </div>
        <div class="spinner"><div class="circle spin"></div></div>
    </div>

    {{^isapproved}}<div class="note availability">{{#str}} list:postunapproved, block_appreciation {{/str}}</div>{{/isapproved}}
   
    <div class="message">
        {{{message}}}
    </div>
    <div class="footer">
        {{#isapproved}}
            {{^iscreator}}<div class="heart{{#doilike}} is_selected{{/doilike}}"></div>{{/iscreator}}
            {{#iscreatororrecipient}}
                {{#numlikes}}
                    <div class="numlikes"><a href="#" class="action action-getlikeusers">{{#str}} list:numlikes, block_appreciation, {{numlikes}} {{/str}}</a></div>
                {{/numlikes}}
            {{/iscreatororrecipient}}
        {{/isapproved}}
    </div>
</div>